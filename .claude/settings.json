{
    "hooks": {
      "PreToolUse": [
        {
          "matcher": "Bash",
          "hooks": [
            {
              "type": "command",
              "command": "/Users/gota/Documents/projects/cc-playground/.claude/hooks/shell/enforce-uv.sh"
            }
          ]
        },
        {
          "matcher": "Edit|MultiEdit|Write",
          "hooks": [
            {
              "type": "command",
              "command": "jq -e '.tool_input.file_path | test(\"pyproject\\\\.toml$\")' >/dev/null && echo 'pyproject.tomlへの編集は禁止されています。uv addを使ってライブラリをインストールしてください' >&2 && exit 2 || exit 0"
            }
          ]
        }
    ],
      "Stop":[
        {
          "matcher": "",
          "hooks": [
            {
              "type": "command",
              "command": "afplay /System/Library/Sounds/Glass.aiff"
            }
          ]
        }
      ],
      "PostToolUse": [
        {
          "matcher": "Edit|Write|MultiEdit|Update",
          "hooks": [
            {
              "type": "command",
              "command": "/Users/gota/Documents/projects/cc-playground/.claude/hooks/shell/mypy-check.sh"
            }
          ]
        },
        {
          "matcher": "Edit|MultiEdit|Write",
          "hooks": [
            {
              "type": "command",
              "command": "python3 .claude/scripts/check-steering-drift.py",
              "timeout": 10
            },
            {
              "type": "command", 
              "command": "python3 .claude/scripts/update-spec-progress.py",
              "timeout": 5
            }
          ]
        }
      ],
      "PreCompact": [
        {
          "matcher": "manual",
          "hooks": [
            {
              "type": "command",
              "command": "python3 .claude/scripts/preserve-spec-context.py",
              "timeout": 5
            }
          ]
        },
        {
          "matcher": "auto",
          "hooks": [
            {
              "type": "command",
              "command": "python3 .claude/scripts/preserve-spec-context.py",
              "timeout": 5
            }
          ]
        }
      ]
    },
    "permissions": {
      "allow": [
        "Bash(mkdir:*)",
        "Bash(grep:*)",
        "Bash(find:*)",
        "Bash(rm:*)",
        "Write",
        "Edit",
        "MultiEdit",
        "WebSearch",
        "WebFetch",
        "Notebook.*",
        "mcp__ide__executeCode"
      ],
      "deny": [
        "Bash(sudo:*)",
        "Bash(rm:*)",
        "Bash(rm -rf:*)",
        "Bash(git push:*)",
        "Bash(git commit:*)",
        "Bash(git reset:*)",
        "Bash(git rebase:*)",
        "Read(.env.*)",
        "Read(id_rsa)",
        "Read(id_ed25519)",
        "Read(**/*token*)",
        "Read(**/*key*)",
        "Write(.env*)",
        "Write(**/secrets/**)",
        "Bash(curl:*)",
        "Bash(wget:*)",
        "Bash(nc:*)",
        "Bash(npm uninstall:*)",
        "Bash(npm remove:*)",
        "Bash(psql:*)",
        "Bash(mysql:*)",
        "Bash(mongod:*)"
      ]
    }
  }